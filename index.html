<html>
<head>
<link rel="stylesheet" type="text/css" href="index.css">
<meta charset="utf-8">
</head>
<body>
	<div id="content">
		<section>
			<h2>Result</h2>
			<div id="result" class="content">
				<img id="img" src="icon.png" style="position: absolute; left: 200px;top: 0px;">
				<img id="img" src="icon.png" style="position: absolute; left: 200px;top: 100px;">
				<img id="img" src="icon.png" style="position: absolute; left: 200px;top: 200px;">
				<img id="img" src="icon.png" style="position: absolute; left: 200px;top: 300px;">
			</div> 
		</section>
	</div>
	
	<p class="button"><button onclick="pause();">Pause</button> / <button onclick="play();">Play</button> / <button onclick="stop();">Stop</button></p>
	
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script src="rAF.js"></script>
	<script src="curve.js"></script>

<script>
	var pause = function(){
		$('img').curvePause();
	};

	var play = function(){
		$('img').curvePlay();
	};

	var stop = function(){
		$('img').curveStop();
	};
	
//	$('img:first').animateCurve({ start: [200,'+=50'], 
//					   end: [200,'+=250'], 
//					   tanStart: ['-=250','+=50'], 
//					   tanEnd: ['-=250','-=50'], angle: false});
	
//	$('img').animateCurve({ start: [0,0], 
//					   end: [0,200], 
//					   tanStart: [-100,100], 
//					   tanEnd: [-100,150]}
//	, 1000, function(){
//		$(this).animateCurve({ start: [0,0], 
//						   end: [0,200], 
//						   tanStart: [100,100], 
//						   tanEnd: [100,150]}, 1000,
//		function(){
//			$(this).animateCurve({ start: [0,0], 
//								    end: [0,200], 
//					   tanStart: [-100,100], 
//					   tanEnd: [-100,150]}, 1000,
//			function(){
//
//			});
//		});
//	});

	setTimeout(function(){
	
	var anim1 = function(){
		$('img').animateCurve([
			[0,0], ['-=100', '+=100'], ['-=100','+=150'], [0, '+=200'], 
					['+=100', '+=100'], ['+=100','+=150'], [0, '+=200'],
					['-=100', '+=100'], ['-=100','+=150'], [0, '+=200']
		], {useAngle: true, cssTrans: false}, 3000, function(){
			anim2();
		});
	};
	
	anim1();
	
	var anim2 = function(){
		$('img').animateCurve([
			[0, 600], ['-=100', '-=100'], ['-=100','-=150'], [0, '-=200'], 
					['+=100', '-=100'], ['+=100','-=150'], [0, '-=200'],
					['-=100', '-=100'], ['-=100','-=150'], [0, '-=200']
		], {useAngle: true, cssTrans: false}, 3000, function(){
			anim1();
		});
	};
	
	

//	$('img:first').animateCurve([[0,0], [0,0], [200,0], [200,0]], {useAngle: false, cssTrans:false}, 2000);
//	$('img:eq(1)').animate({left: 400}, 2000, 'linear')
	
	
	}, 2000)


//	.bind('click', function(){
//		$(this).curveStop().animate({top: 0});
//	});
	
	//var i=0;
	//function boucle(){ 
	//	var obj = i==0? { start: [50,300], end: [350,300], tanStart: [50,100], tanEnd: [350,100]}:
	//					{ start: [350,300], end: [50,300], tanStart: [350,100], tanEnd: [50,100]}
	//
	//	$('img').animateCurve(obj, 2000, function(){
	//		i = (i==0)? 1:0;
	//		boucle();
	//	});
	//}
	//boucle();
</script>
</body>
</html>